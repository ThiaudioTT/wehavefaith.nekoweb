---
import Window from "./Window.astro";

const { src, width = 300, height = 200, alt = "" } = Astro.props;
// Handle both string paths and imported image objects
const imageSrc = typeof src === "string" ? src : src.src;
---

<Window title={"I fought the law and the law won!"}>
  <div class="window-image" style={`width:${width}px; height:${height}px;`}>
    <img src={imageSrc} alt={alt} loading="lazy" />
  </div>
</Window>

<style>
  .window-image {
    background: var(--secondary);
    overflow: hidden;
    position: relative;
  }

  .window-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
    user-select: none;
    display: block;
  }
</style>
